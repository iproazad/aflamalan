import{r as i,a as b,j as e}from"./index-BiMpKAyZ.js";import{u as p,a as f,M as g,b as v}from"./MovieCardSkeleton-CVHw-g3d.js";const N=({title:t,movies:a})=>{const[n,l]=i.useState(!1),c=i.useRef(null),{isFavorite:x,toggleFavorite:d}=p(),{isWatchLater:u,toggleWatchLater:m}=f(),{getAverageRating:h}=b();return i.useEffect(()=>{const s=c.current;if(!("IntersectionObserver"in window)){l(!0);return}if(s){const r=new IntersectionObserver(([o])=>{o.isIntersecting&&(l(!0),r.unobserve(s))},{rootMargin:"0px 0px -50px 0px",threshold:.1});return r.observe(s),()=>{s&&r.unobserve(s)}}},[]),a.length===0?null:e.jsxs("section",{ref:c,className:`mb-12 transition-all duration-700 ease-out transform ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 border-r-4 border-cyan-400 pr-4",children:t}),e.jsx("div",{className:"relative carousel-container",children:e.jsx("div",{className:"flex space-x-3 sm:space-x-4 md:space-x-6 overflow-x-auto pb-4 -mx-4 px-4 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900",children:a.map(s=>{const{average:r,count:o}=h(s.id);return e.jsx("div",{className:"flex-shrink-0 w-40 sm:w-48 md:w-56 lg:w-64",children:e.jsx(g,{movie:s,isFavorite:x(s.id),isWatchLater:u(s.id),averageRating:r,ratingCount:o,onToggleFavorite:d,onToggleWatchLater:m})},s.id)})})})]})},y=({title:t="جاري التحميل..."})=>e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 border-r-4 border-cyan-400 pr-4",children:t}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"flex space-x-3 sm:space-x-4 md:space-x-6 overflow-x-hidden pb-4 -mx-4 px-4",children:[...Array(5)].map((a,n)=>e.jsx("div",{className:"flex-shrink-0 w-40 sm:w-48 md:w-56 lg:w-64",children:e.jsx(v,{})},n))})})]});export{y as M,N as a};
