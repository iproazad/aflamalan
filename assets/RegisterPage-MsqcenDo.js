import{r as a,c as w,u as b,j as e,A as j,L as v,e as m,g as N}from"./index-BiMpKAyZ.js";const k=()=>{const[n,p]=a.useState(""),[t,f]=a.useState(""),[l,g]=a.useState(""),[c,s]=a.useState(""),[i,d]=a.useState(!1),u=w(),{currentUser:x}=b();a.useEffect(()=>{x&&u("/",{replace:!0})},[x,u]);const h=async r=>{if(r.preventDefault(),s(""),t!==l){s("كلمتا المرور غير متطابقتين.");return}try{await m.createUserWithEmailAndPassword(n,t)}catch(o){o.code==="auth/email-already-in-use"?s("هذا البريد الإلكتروني مسجل بالفعل."):o.code==="auth/weak-password"?s("كلمة المرور يجب أن تتكون من 6 أحرف على الأقل."):(s("حدث خطأ أثناء إنشاء الحساب. يرجى المحاولة مرة أخرى."),console.error("Registration Error:",o))}},y=async()=>{s(""),d(!0);try{await m.signInWithPopup(N)}catch(r){r.code==="auth/account-exists-with-different-credential"?s("يوجد حساب بالفعل بنفس عنوان البريد الإلكتروني ولكن ببيانات اعتماد تسجيل دخول مختلفة. حاول تسجيل الدخول باستخدام الطريقة المرتبطة بهذا البريد الإلكتروني."):r.code==="auth/popup-closed-by-user"?console.log("Google Sign-In popup closed by user."):(s("فشل إنشاء الحساب باستخدام جوجل. يرجى المحاولة مرة أخرى."),console.error("Google Sign-In Error:",r))}finally{d(!1)}};return e.jsx("div",{className:"flex items-center justify-center py-12 animate-fade-in-up",children:e.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-slate-900/70 backdrop-blur-sm rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(j,{}),e.jsx("h2",{className:"text-3xl font-extrabold text-center text-white",children:"إنشاء حساب جديد"})]}),e.jsxs("form",{className:"space-y-6",onSubmit:h,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx("div",{children:e.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border-2 border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 focus:z-10 sm:text-sm rounded-t-md",placeholder:"البريد الإلكتروني",value:n,onChange:r=>p(r.target.value)})}),e.jsx("div",{children:e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border-2 border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 focus:z-10 sm:text-sm",placeholder:"كلمة المرور",value:t,onChange:r=>f(r.target.value)})}),e.jsx("div",{children:e.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border-2 border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 focus:z-10 sm:text-sm rounded-b-md",placeholder:"تأكيد كلمة المرور",value:l,onChange:r=>g(r.target.value)})})]}),c&&e.jsx("p",{className:"text-red-400 text-center text-sm bg-red-500/10 p-2 rounded-md",children:c}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 focus:ring-offset-gray-800 transition-all duration-300",children:"إنشاء حساب"})})]}),e.jsxs("div",{className:"relative flex py-2 items-center",children:[e.jsx("div",{className:"flex-grow border-t border-gray-600"}),e.jsx("span",{className:"flex-shrink mx-4 text-gray-400 text-sm",children:"أو"}),e.jsx("div",{className:"flex-grow border-t border-gray-600"})]}),e.jsx("div",{children:e.jsx("button",{type:"button",onClick:y,disabled:i,className:"w-full flex justify-center items-center gap-3 py-3 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-white bg-gray-800 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 focus:ring-offset-gray-900 transition-colors disabled:opacity-50 disabled:cursor-wait",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"جاري التحويل إلى جوجل..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:e.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 381.5 512 244 512 110.1 512 0 401.9 0 265.8 0 129.7 110.1 20 244 20c65.4 0 123.5 24.3 166.4 65.7L345.2 159.5C318.1 135.1 283.8 120 244 120c-77.3 0-140.2 62.9-140.2 140.2s62.9 140.2 140.2 140.2c84.2 0 121.7-65.2 125.8-97.5H244V261.8h244z"})}),e.jsx("span",{children:"إنشاء حساب باستخدام جوجل"})]})})}),e.jsxs("p",{className:"text-center text-sm text-gray-400",children:["لديك حساب بالفعل؟"," ",e.jsx(v,{to:"/login",className:"font-medium text-cyan-400 hover:text-cyan-300 hover:underline",children:"سجل الدخول"})]})]})})};export{k as default};
