import{r as a,a as b,j as t}from"./index-CfjnOKDt.js";import{u as h,a as p,M as m}from"./useWatchLater-Dv2GWjD1.js";const j=({title:c,movies:n})=>{const[l,o]=a.useState(!1),i=a.useRef(null),{isFavorite:u,toggleFavorite:x}=h(),{isWatchLater:g,toggleWatchLater:d}=p(),{getAverageRating:f}=b();return a.useEffect(()=>{const e=i.current;if(!("IntersectionObserver"in window)){o(!0);return}if(e){const r=new IntersectionObserver(([s])=>{s.isIntersecting&&(o(!0),r.unobserve(e))},{rootMargin:"0px 0px -50px 0px",threshold:.1});return r.observe(e),()=>{e&&r.unobserve(e)}}},[]),n.length===0?null:t.jsxs("section",{ref:i,className:`mb-12 transition-all duration-700 ease-out transform ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 border-r-4 border-cyan-400 pr-4",children:c}),t.jsx("div",{className:"relative carousel-container",children:t.jsx("div",{className:"flex space-x-3 sm:space-x-4 md:space-x-6 overflow-x-auto pb-4 -mx-4 px-4 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900",children:n.map(e=>{const{average:r,count:s}=f(e.id);return t.jsx("div",{className:"flex-shrink-0 w-40 sm:w-48 md:w-56 lg:w-64",children:t.jsx(m,{movie:e,isFavorite:u(e.id),isWatchLater:g(e.id),averageRating:r,ratingCount:s,onToggleFavorite:x,onToggleWatchLater:d})},e.id)})})})]})};export{j as M};
